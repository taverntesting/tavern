---

test_name: Test tincture

includes:
- !include common.yaml

marks:
- usefixtures:
  - yielder
  - str_fixture
  - yield_str_fixture

stages:
- name: do something
  tinctures:
  - function: tavern.helpers:time_request
  - function: tavern.helpers:print_response
    extra_kwargs:
      extra_print: "blooble"
  request:
    url: "{host}/echo"
    method: POST
    json:
      value: "{str_fixture}"
  response:
    status_code: 200
    json:
      value: "{yield_str_fixture}"
